# BUGS

# right now
 
 - generator updates
  - real fuel_markup
  - resources
  - imports/exports
  - shipyards
  - bases
 - update Location model
  - location hash
  - parent locations
  - find travel locations by filtering to locations with no parent (root objects)
  - parent objects need a description/summary of their children
  
# TODO
 - externalize postgres db
 - async
  - make it a base class
  - check scaling # of runners for each task
  - front end needs to occasionally query for backend channels
  
  - generate galaxies differently
   - start with just bulk generation of a sector
    - probability map
    - top level location striding
    - star > planet
    - star > astroids
    - planet > moon
   - stars have planets
   - stars have asteroids
   - planets have moons
   - root items can be:
    - asteroids
    - stars
    - nebulas
    - do we have this type of relationship? parent child?
    - sure, why not
  - move travel to a common library

  - travel between some parent and child relationships is free

  - move purchasing of things into a common library
   - goods
    - buy
    - sell
   - ships
    - buy
    - sell?
   - upgrades
    - buy
 - Locations
  - have total mass
  - have resources
   - track in situ vs recovered resources
 - more ship upgrades
   - fuel extenders
   - ships computer improvements
    - upgrade finder
 - ships
  - edit names
  - uninstall/sell upgrades
 - marketplaces
  - don't buy and sell the same things
  - price fluctuations
   - pricing data in JSON blob for location?
 - buildings
  - generate resources
 - NPCs
  - add NPC base class?
  - profile can point to NPC or User
  - NPCs are generated with a ship
  - add redis
  - create background containers that run N scripts
   - command to scripts is run_queueing or run_processing #
  - create background command to update NPCs
   - every N seconds, requeue all NPCs for possible travel (npc_queueing)
   - use background NPC tasks to process NPCs (npc_processing)
  - NPCs refuel
   - make refueling more self contained
  - NPCs randomly travel
   - make traveling more self contained
  

 - dump cargo
 - track visited planets
  - many to many relationship?
    ship.visited_planets.filter(id=planet_id) for every planet in the travel list...
  - mark planets in travel view as unvisited or visited
  - unvisited by ship vs player
 - track ship totals
  - travel distance
  - planet jumps
  - total sell/buy Yen
  - total sell buy count
  - total yen/count per good
  - planets visited
 - track player totals
  - travel distance
  - planet jumps
  - total sell/buy Yen
  - total sell buy count
  - total yen/count per good
  - planets visited
  - ships bought
  - ships sold
  - upgrades purchased 
   - by level
   - total
 - travel planner (ships computer limited)
  - gather all points within an area?
  - limit this set by number of hops?
  - do hop based planning?
  
 - player tactical view (Sean, this is for you)
  - ships owned by the player
   - locations of ships
   - value of ships
  - explored planets
   - which have the player's ships currently orbiting 
  
 - resource system where planets, nebulas, asteroids, stations generate resources
 - buildings/machines can be bought and built to extract resources
 - warehouse like buildings can be built to hold/store respurces
 - some buildings use other resources found in warehouses to create derivative resources
 - modify resources in game to fit into a creation framework
 - buildings/factories can be owned by npc. planet, or user
 - user can buy or build buildings
 - resources from buildings can be transferred to ships to sell
 - special ships can be used to shuttle goods from one planet to another, carrying more han usual
   but only on a fixed route
  
 - badges
  
 - ?(done)player credits needs to be a biginteger
 - load balance multiple web tier with nginx ( https://github.com/jwilder/nginx-proxy )
 - rename ships
 - travel time
  - 1 sec wall time per LY
  - configurable speed
  - ship in open space
  - polling api for ship update
  - notification when ship reaches planet
 - how do we introduce goals or conflict into the game?
 - NPCs
 - scout grade ships need to be able to jump to distant planets somehow and create new space lanes
  - need to bridge disconnected graphs of planets
 - badge system
  - configurable and extensible
  - css based badges
 - map
  - ship local map
  - travel history (up to configurable limit)
  - player galaxy map in player tactical view
  - track planets we've visited
 - backend services architecture
  - universe expansion algorithm
 - new header: http://codepen.io/birjolaxew/pen/Fdbws/
  
 - [ ] explain ships and ships qualities in text blurb
 - [ ] seed upgrades and ships at planet creation time
   - [ ] better methods on ship for
    - [ ] current capacity / max capacity (with upgrades)
    - [ ] current range / fuel / etc (with upgrades)
   - [ ] ship tactical view
    - [ ] upgrades installed
    - [ ] current cargo
    - [ ] name ships
   - [ ] sell ships?
   - [ ] range upgrades
   - [ ] remove old ship generator from ShipManager
   - [ ] lookup the ID of the shipyard for a planet in a better way - right now we do planet.shipyards.all.0.id
    - [ ] multiple yards on a planet?
    - [ ] primary yard on a planet?
 - [ ] add an admin view or use the existing admin view
  - [ ] add button to seed all shipyards
 - [ ] starting a new install is confusing
   - [ ] what to run to seed DB
   - [ ] where to navigate at start
   - [ ] better intro to game (no ship, some money)
   - [ ] need better way to show our resources all the time
 - [ ] imports/sell rows should highlight yellow/warn when it's a bad deal
 - [ ] buy(max) should buy as much as possible, not throw an error
 - [ ] buy (#) should parenthetically show $ for buying that amount
 - [ ] make algorithm for progressively adding planets
 - [ ] admin screen
  - [ ] seed universe
 - [ ] what to do when you're out of money, and can't sell anything?
 - [ ] don't import and export the same things
 - [ ] ship yard view
   - [ ] better ship generation
   - [ ] what happens when we visit a planet with no ship?
 - [ ] what's the new user flow
 - [ ] refuel button needs to show cost
 - [ ] buyers summary / registrant summary
 - [ ] Ship detail view
   - [ ] better break down of a ships details for an owner
 - [ ] set cargo purchase price
 - [ ] show profit/loss for selling current cargo
 - [ ] images for cargo
 - [ ] ship detail view (history?)
 - [ ] Imports & Exports fixes
   - [ ] make sure market place isn't buying and selling the same good
   - [ ] allow dumping of cargo
   - [ ] search nearby planets for imports/exports
 - [ ] homepage view of state of game
 - [ ] when a ship is home, it gets bonuses?
 - [ ] we need to always show how many credits we have. mabye a sticky header with #ships and #credits
 - [ ] modular ships
   - [ ] ships have infrastructure limits and bases (i.e. 100 cargo base, 2 expansion docks)
   - [ ] ships have electronic/compute limits and bases (i.e. 3 electronics slots)
   - [ ] infrastructure cane be used for cargo, fuel, or people
   - [ ] electronic
   - [ ] specialized infrastructure units can hold more, but are restricted (we need tags for goods)
   - [ ] navigation
   - [ ] shipyards on some planets
   - [ ] ship templates to buy
   - [ ] upgrade / add capacity
   - [ ] upgrade engine
   - [ ] upgrade electronics
   - [ ] add passanger capacity
   - [ ] upgrade passenger rooms to low/medium/high/luxury capacity
   - [ ] special addition: driller (mine asteroids)
   - [ ] special addition: colony ship (bulk transport colonists)
 - [ ] tactical play view
   - [ ] ship summary
   - [ ] planet goods summary
   - [ ] travel summary
 - [ ] resources
   - [ ] water
   - [ ] food
 - [ ] Bad NPCs
   - [ ] space monsters
   - [ ] pirates